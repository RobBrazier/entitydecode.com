# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
  # Directory to change to before starting a build.
  # This is where we will look for package.json/.nvmrc/etc.
  # If not set, defaults to the root directory.
  base = ""

  # Directory that contains the deploy-ready HTML files and assets generated by
  # the build. This is relative to the base directory if one has been set, or the
  # root directory if a base has not been set. This sample publishes the
  # directory located at the absolute path "root/project/build-output"
  publish = "dist/public/"

  # Default build command.
  command = "pnpm build"

[[plugins]]
  # Installs the Lighthouse Build Plugin for all deploy contexts
  package = "@netlify/plugin-lighthouse"

[[headers]]
  # Define which paths this specific [[headers]] block will cover.
  for = "/*"

  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Content-Security-Policy = """
    default-src 'self';
    font-src 'self'
        d33wubrfki0l68.cloudfront.net
    ;
    img-src 'self' 
        d33wubrfki0l68.cloudfront.net
    ; 
    script-src 'self' 
        'unsafe-inline'
        d33wubrfki0l68.cloudfront.net
        plausible.io
    ; 
    style-src 'self' 
        'unsafe-inline'
    ;
    connect-src 'self'
        plausible.io
    ;
    """
